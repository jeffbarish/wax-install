#!/bin/bash

# Create virtual environment in wax and install requirements.
echo "Creating virtual environment"
python3 -m venv ~/.venv

cp pyvenv.cfg ~/.venv/pyvenv.cfg
source ~/.venv/bin/activate

echo "Installing requirements"
python3 -m pip install -r requirements.txt

[ ! -d ~/.themes ] && mkdir ~/.themes
rm -rf ~/.themes/Materia-Manjaro-Dark-gtk
mv Materia-Manjaro-Dark-gtk ~/.themes
rm -f ~/.config/gtk-3.0/gtk.css

mv recordings ~/wax
ln -s ~/wax/recordings ~/wax-config/recordings

mkdir -p ~/wax/.config/{log,queuefiles,transfer}
mv completers ~/wax/.config

echo "Type \"wax\" to start Wax or \"waxconfig\" to start WaxConfig"
